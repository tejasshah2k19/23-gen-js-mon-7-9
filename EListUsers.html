<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

</head>
<body onload="readAllUsers()">
    <h2>All Users</h2>

    <div id="result">

    </div>
    
<script>

    function readAllUsers(){
        $.ajax({
            url:"https://portal-2024.onrender.com/users/getAll",
            type:"GET",
            success:function(resp){
                console.log(resp);

                let div = document.getElementById("result");

                let table = document.createElement("table"); 
                
                let tr = document.createElement("tr"); 

                let tdFirstName = document.createElement("td"); 
                tdFirstName.innerHTML="FirstName"
                
                let tdlastName = document.createElement("td"); 
                tdlastName.innerHTML="LastName"

                let tdEmail = document.createElement("td"); 
                tdEmail.innerHTML="Email"

                tr.appendChild(tdFirstName);
                tr.appendChild(tdlastName);
                tr.appendChild(tdEmail); 
                  
                table.appendChild(tr);
                table.setAttribute("border",1);

                

                for(let i=0;i<resp.length;i++){
                    let tr = document.createElement("tr") 
                    let td1 = document.createElement("td")
                    td1.innerHTML = resp[i].firstName 

                    let td2 = document.createElement("td")
                    td2.innerHTML = resp[i].lastName 

                    let td3 = document.createElement("td")    
                    td3.innerHTML = resp[i].email 

                    tr.appendChild(td1);
                    tr.appendChild(td2);
                    tr.appendChild(td3);

                    table.appendChild(tr);
                    
                 
                }



                div.appendChild(table);

            },
            error:function(err){
                console.log(err);
            }
        });
    }
</script>

</body>
</html>